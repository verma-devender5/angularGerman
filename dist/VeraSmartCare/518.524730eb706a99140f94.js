(self.webpackChunkvera_smart_care=self.webpackChunkvera_smart_care||[]).push([[518],{9518:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EmployeeModule:()=>k,httpTranslateLoader:()=>Y});var i=r(1116),o=r(7958),a=r(1041),n=r(5366),d=r(4238),l=r(649),s=r(7467),m=r(1428),f=r(3070),p=r(9550),u=r(2984);function c(e,t){1&e&&(n.TgZ(0,"div",31),n.TgZ(1,"button",32),n._UZ(2,"span",33),n._uU(3," Loading... "),n.qZA(),n.qZA())}function Z(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.firstName.errors&&e.f.firstName.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function g(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.lastName.errors&&e.f.lastName.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required"),"")}}function h(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.dateOfBirth.errors&&e.f.dateOfBirth.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function v(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.telephone.errors&&e.f.telephone.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function A(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.fax.errors&&e.f.fax.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required"),"")}}function q(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.numberOfIdentityCard.errors&&e.f.numberOfIdentityCard.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function y(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.companyRegistrationNumber.errors&&e.f.companyRegistrationNumber.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function x(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.companyOrPrivateAddress.errors&&e.f.companyOrPrivateAddress.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function b(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.homePage.errors&&e.f.homePage.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function T(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"div",34),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("hidden",!(null!=e.f.assignedPostalCode.errors&&e.f.assignedPostalCode.errors.required)),n.xp6(1),n.hij(" ",n.lcZ(3,2,"myprofile.required")," ")}}function N(e,t){1&e&&n._UZ(0,"span",35)}let O=(()=>{class e{constructor(e,t,r,i,o,a,n){this.fb=e,this.db=t,this.translate=r,this.router=i,this.ngZone=o,this.notification=a,this.afAuth=n,this.isLoading=!1,this.submitted=!1,this.userInfo={isActive:!0,createdOn:new Date,firstName:"",lastName:"",dateOfBirth:"",telephone:"",fax:"",companyOrPrivateAddress:"",numberOfIdentityCard:"",companyRegistrationNumber:"",homePage:"",assignedPostalCode:""}}ngOnInit(){this.validateForm(),this.getPersonalInformation()}resetForm(){var e;let t=null===(e=this.form.get("email"))||void 0===e?void 0:e.value;this.form.setValue({firstName:"",lastName:"",dateOfBirth:"",assignedPostalCode:"",companyRegistrationNumber:"",homePage:"",numberOfIdentityCard:"",companyOrPrivateAddress:"",telephone:"",fax:"",createdOn:Date(),isActive:!0,email:t})}validateForm(){this.form=this.fb.group({firstName:["",[a.kI.required]],lastName:["",[a.kI.required]],dateOfBirth:["",[a.kI.required]],assignedPostalCode:["",[a.kI.required]],homePage:["",[a.kI.required]],companyRegistrationNumber:["",[a.kI.required]],numberOfIdentityCard:["",[a.kI.required]],companyOrPrivateAddress:["",[a.kI.required]],fax:["",[a.kI.required]],telephone:["",[a.kI.required]],createdOn:[Date()],isActive:[!0],email:[{value:"",disabled:!0}]})}getPersonalInformation(){this.isLoading=!0,this.afAuth.authState.subscribe(e=>{e?this.db.collection("users").doc(e.uid).get().toPromise().then(t=>{const r=t.data();this.form.patchValue({firstName:r.firstName,lastName:r.lastName,telephone:r.telephone,fax:r.fax,assignedPostalCode:r.assignedPostalCode,homePage:r.homePage,companyRegistrationNumber:r.companyRegistrationNumber,numberOfIdentityCard:r.numberOfIdentityCard,companyOrPrivateAddress:r.companyOrPrivateAddress,email:e.email,dateOfBirth:new Date(2022,5,6)}),this.isLoading=!1}):this.isLoading=!1})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.form.invalid||(this.isLoading=!0,this.afAuth.authState.subscribe(e=>{var t,r,i,o,a,n,d,l,s,m;e&&this.db.collection("users").doc(e.uid).update({firstName:null===(t=this.form.get("firstName"))||void 0===t?void 0:t.value,lastName:null===(r=this.form.get("lastName"))||void 0===r?void 0:r.value,dateOfBirth:null===(i=this.form.get("dateOfBirth"))||void 0===i?void 0:i.value,assignedPostalCode:null===(o=this.form.get("assignedPostalCode"))||void 0===o?void 0:o.value,homePage:null===(a=this.form.get("homePage"))||void 0===a?void 0:a.value,companyRegistrationNumber:null===(n=this.form.get("companyRegistrationNumber"))||void 0===n?void 0:n.value,numberOfIdentityCard:null===(d=this.form.get("numberOfIdentityCard"))||void 0===d?void 0:d.value,companyOrPrivateAddress:null===(l=this.form.get("companyOrPrivateAddress"))||void 0===l?void 0:l.value,fax:null===(s=this.form.get("fax"))||void 0===s?void 0:s.value,telephone:null===(m=this.form.get("telephone"))||void 0===m?void 0:m.value}).then(()=>{this.isLoading=!1,this.notification.showSuccess("User information updated successfully.","Success")}).catch(e=>{this.isLoading=!1,this.notification.showError("Some error occurred","Error")})}))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.qu),n.Y36(d.ST),n.Y36(l.sK),n.Y36(o.F0),n.Y36(n.R0b),n.Y36(s.g),n.Y36(m.zQ))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-my-profile"]],decls:138,vars:88,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box",2,"height","20px !important"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],[1,"header-title","mb-4"],["class","bd-example",4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],[1,"col-xl-6"],[1,"form-group"],["type","text","formControlName","firstName",1,"form-control",3,"placeholder"],[4,"ngIf"],["type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["formControlName","dateOfBirth","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["type","text","formControlName","email",1,"form-control",3,"placeholder"],["type","text","formControlName","telephone",1,"form-control",3,"placeholder"],["type","text","formControlName","fax",1,"form-control",3,"placeholder"],["type","text","formControlName","numberOfIdentityCard",1,"form-control",3,"placeholder"],["type","text","formControlName","companyRegistrationNumber",1,"form-control",3,"placeholder"],[1,"col-xl-12"],["type","text","formControlName","companyOrPrivateAddress",1,"form-control",3,"placeholder"],["type","text","formControlName","homePage",1,"form-control",3,"placeholder"],["type","text","formControlName","assignedPostalCode",1,"form-control",3,"placeholder"],[1,"form-group","text-right","mb-0"],[1,"btn","btn-primary","float-right",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["type","button",1,"btn","btn-secondary","waves-effect","waves-light","mr-2",3,"click"],[1,"bd-example"],["type","button","disabled","",1,"btn","btn-primary"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"invalidControl",3,"hidden"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,t){if(1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"div",3),n.qZA(),n.qZA(),n.TgZ(4,"div",1),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"h4",7),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.YNc(11,c,4,0,"div",8),n.TgZ(12,"form",9),n.NdJ("ngSubmit",function(){return t.onSubmit()}),n.TgZ(13,"div",1),n.TgZ(14,"div",1),n.TgZ(15,"div",10),n.TgZ(16,"div",11),n.TgZ(17,"label"),n._uU(18),n.ALo(19,"translate"),n.TgZ(20,"span"),n._uU(21,"*"),n.qZA(),n.qZA(),n._UZ(22,"input",12),n.ALo(23,"translate"),n.YNc(24,Z,4,4,"div",13),n.qZA(),n.qZA(),n.TgZ(25,"div",10),n.TgZ(26,"div",11),n.TgZ(27,"label"),n._uU(28),n.ALo(29,"translate"),n.TgZ(30,"span"),n._uU(31,"*"),n.qZA(),n.qZA(),n._UZ(32,"input",14),n.ALo(33,"translate"),n.YNc(34,g,4,4,"div",13),n.qZA(),n.qZA(),n.qZA(),n.TgZ(35,"div",1),n.TgZ(36,"div",10),n.TgZ(37,"div"),n.TgZ(38,"mat-form-field"),n.TgZ(39,"mat-label"),n._uU(40),n.ALo(41,"translate"),n.qZA(),n._UZ(42,"input",15),n._UZ(43,"mat-datepicker-toggle",16),n._UZ(44,"mat-datepicker",null,17),n.qZA(),n.YNc(46,h,4,4,"div",13),n.qZA(),n.qZA(),n.TgZ(47,"div",10),n.TgZ(48,"div",11),n.TgZ(49,"label"),n._uU(50),n.ALo(51,"translate"),n.TgZ(52,"span"),n._uU(53,"*"),n.qZA(),n.qZA(),n._UZ(54,"input",18),n.ALo(55,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(56,"div",1),n.TgZ(57,"div",10),n.TgZ(58,"div",11),n.TgZ(59,"label"),n._uU(60),n.ALo(61,"translate"),n.TgZ(62,"span"),n._uU(63,"*"),n.qZA(),n.qZA(),n._UZ(64,"input",19),n.ALo(65,"translate"),n.YNc(66,v,4,4,"div",13),n.qZA(),n.qZA(),n.TgZ(67,"div",10),n.TgZ(68,"div",11),n.TgZ(69,"label"),n._uU(70),n.ALo(71,"translate"),n.TgZ(72,"span"),n._uU(73,"*"),n.qZA(),n.qZA(),n._UZ(74,"input",20),n.ALo(75,"translate"),n.YNc(76,A,4,4,"div",13),n.qZA(),n.qZA(),n.qZA(),n.TgZ(77,"div",1),n.TgZ(78,"div",10),n.TgZ(79,"div",11),n.TgZ(80,"label"),n._uU(81),n.ALo(82,"translate"),n.TgZ(83,"span"),n._uU(84,"*"),n.qZA(),n.qZA(),n._UZ(85,"input",21),n.ALo(86,"translate"),n.YNc(87,q,4,4,"div",13),n.qZA(),n.qZA(),n.TgZ(88,"div",10),n.TgZ(89,"div",11),n.TgZ(90,"label"),n._uU(91),n.ALo(92,"translate"),n.TgZ(93,"span"),n._uU(94,"*"),n.qZA(),n.qZA(),n._UZ(95,"input",22),n.ALo(96,"translate"),n.YNc(97,y,4,4,"div",13),n.qZA(),n.qZA(),n.qZA(),n.TgZ(98,"div",1),n.TgZ(99,"div",23),n.TgZ(100,"div",11),n.TgZ(101,"label"),n._uU(102),n.ALo(103,"translate"),n.TgZ(104,"span"),n._uU(105,"*"),n.qZA(),n.qZA(),n._UZ(106,"input",24),n.ALo(107,"translate"),n.YNc(108,x,4,4,"div",13),n.qZA(),n.qZA(),n.qZA(),n.TgZ(109,"div",1),n.TgZ(110,"div",10),n.TgZ(111,"div",11),n.TgZ(112,"label"),n._uU(113),n.ALo(114,"translate"),n.TgZ(115,"span"),n._uU(116,"*"),n.qZA(),n.qZA(),n._UZ(117,"input",25),n.ALo(118,"translate"),n.YNc(119,b,4,4,"div",13),n.qZA(),n.qZA(),n.TgZ(120,"div",10),n.TgZ(121,"div",11),n.TgZ(122,"label"),n._uU(123),n.ALo(124,"translate"),n.TgZ(125,"span"),n._uU(126,"*"),n.qZA(),n.qZA(),n._UZ(127,"input",26),n.ALo(128,"translate"),n.YNc(129,T,4,4,"div",13),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(130,"div",27),n.TgZ(131,"button",28),n.YNc(132,N,1,0,"span",29),n._uU(133),n.ALo(134,"translate"),n.qZA(),n.TgZ(135,"button",30),n.NdJ("click",function(){return t.resetForm()}),n._uU(136),n.ALo(137,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(45);n.xp6(9),n.Oqu(n.lcZ(10,40,"myprofile.personalData")),n.xp6(2),n.Q6J("ngIf",t.isLoading),n.xp6(1),n.Q6J("formGroup",t.form),n.xp6(6),n.Oqu(n.lcZ(19,42,"myprofile.firstName")),n.xp6(4),n.s9C("placeholder",n.lcZ(23,44,"myprofile.firstName")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.firstName.invalid||t.f.firstName.dirty||t.f.firstName.touched),n.xp6(4),n.Oqu(n.lcZ(29,46,"myprofile.lastName")),n.xp6(4),n.s9C("placeholder",n.lcZ(33,48,"myprofile.lastName")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.lastName.invalid||t.f.lastName.dirty||t.f.lastName.touched),n.xp6(6),n.hij("",n.lcZ(41,50,"myprofile.dateOfBirth"),"* "),n.xp6(2),n.Q6J("matDatepicker",e),n.xp6(1),n.Q6J("for",e),n.xp6(3),n.Q6J("ngIf",t.submitted&&t.f.dateOfBirth.invalid||t.f.dateOfBirth.dirty||t.f.dateOfBirth.touched),n.xp6(4),n.Oqu(n.lcZ(51,52,"myprofile.email")),n.xp6(4),n.s9C("placeholder",n.lcZ(55,54,"myprofile.email")),n.xp6(6),n.Oqu(n.lcZ(61,56,"myprofile.telephone")),n.xp6(4),n.s9C("placeholder",n.lcZ(65,58,"myprofile.telephone")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.telephone.invalid||t.f.telephone.dirty||t.f.telephone.touched),n.xp6(4),n.Oqu(n.lcZ(71,60,"myprofile.fax")),n.xp6(4),n.s9C("placeholder",n.lcZ(75,62,"myprofile.fax")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.fax.invalid||t.f.fax.dirty||t.f.fax.touched),n.xp6(5),n.Oqu(n.lcZ(82,64,"myprofile.numberOfIdentityCard")),n.xp6(4),n.s9C("placeholder",n.lcZ(86,66,"myprofile.telephone")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.numberOfIdentityCard.invalid||t.f.numberOfIdentityCard.dirty||t.f.numberOfIdentityCard.touched),n.xp6(4),n.Oqu(n.lcZ(92,68,"myprofile.companyRegistrationNumber")),n.xp6(4),n.s9C("placeholder",n.lcZ(96,70,"myprofile.companyRegistrationNumber")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.companyRegistrationNumber.invalid||t.f.companyRegistrationNumber.dirty||t.f.companyRegistrationNumber.touched),n.xp6(5),n.Oqu(n.lcZ(103,72,"myprofile.companyOrPrivateAddress")),n.xp6(4),n.s9C("placeholder",n.lcZ(107,74,"myprofile.companyOrPrivateAddress")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.companyOrPrivateAddress.invalid||t.f.companyOrPrivateAddress.dirty||t.f.companyOrPrivateAddress.touched),n.xp6(5),n.Oqu(n.lcZ(114,76,"myprofile.homePage")),n.xp6(4),n.s9C("placeholder",n.lcZ(118,78,"myprofile.homePage")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.homePage.invalid||t.f.homePage.dirty||t.f.homePage.touched),n.xp6(4),n.Oqu(n.lcZ(124,80,"myprofile.assignedPostLAddress")),n.xp6(4),n.s9C("placeholder",n.lcZ(128,82,"myprofile.assignedPostLAddress")),n.xp6(2),n.Q6J("ngIf",t.submitted&&t.f.assignedPostalCode.invalid||t.f.assignedPostalCode.dirty||t.f.assignedPostalCode.touched),n.xp6(2),n.Q6J("disabled",t.isLoading),n.xp6(1),n.Q6J("ngIf",t.isLoading),n.xp6(1),n.hij(" ",n.lcZ(134,84,"myprofile.updateProfile"),""),n.xp6(3),n.hij(" ",n.lcZ(137,86,"myprofile.cancel")," ")}},directives:[i.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,f.KE,f.hX,p.Nt,u.hl,u.nW,f.R9,u.Mq],pipes:[l.X$],styles:[".form-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .invalidControl[_ngcontent-%COMP%]{color:red}.spinner-border[_ngcontent-%COMP%]{color:#fff!important}.datepickercustom[_ngcontent-%COMP%]{background-color:initial;width:70%;padding:.45rem .9rem;font-size:.9rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.3rem}.mat-focus-indicator[_ngcontent-%COMP%]{float:right!important;bottom:24px!important}"]}),e})(),_=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-view-customers"]],decls:2,vars:0,template:function(e,t){1&e&&(n.TgZ(0,"p"),n._uU(1,"view-customers works!"),n.qZA())},styles:[""]}),e})();const C=[{path:"",children:[{path:"createcustomer",component:_},{path:"viewcustomer",component:_},{path:"myprofile",component:O},{path:"",redirectTo:"employee",pathMatch:"full"}]}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[o.Bz.forChild(C)],o.Bz]}),e})();var U=r(7064),L=r(7307),I=r(2935),w=r(2693),J=r(9037),Q=r(2345);let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.ez,u.FA,U.XK,f.lN,p.c,L.Ps,I.Is,a.u5,a.UX,Q.m,P,l.aw.forChild({loader:{provide:l.Zw,useFactory:Y,deps:[w.eN]}})]]}),e})();function Y(e){return new J.w(e)}}}]);